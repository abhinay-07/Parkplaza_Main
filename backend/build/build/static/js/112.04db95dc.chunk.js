"use strict";(self.webpackChunkparkplaza_frontend=self.webpackChunkparkplaza_frontend||[]).push([[112],{112:(e,n,i)=>{i.r(n),i.d(n,{default:()=>Q});var s=i(9950),t=i(2569),r=i(8089),l=i(704),c=i(6491),a=i(2053),d=i(1413),o=i(1277),x=i(6699),h=i(899),A=i(2235),j=i(2236),u=i(4142),m=i(226),g=i(1320),y=i(5769),p=i(9780),v=i(9213),k=i(1671),f=i(4075),b=i(5277),w=i(5333),S=i(2472),C=i(3464),L=i(33),P=i(8170),B=i(8963),R=i(9739),I=i(8785),W=i(3174),N=i(3256),D=i(431),z=i(6812),O=i(5261),E=i(6787),T=i(760),q=i(379),H=i(9450),M=i(9086),V=i(6299),$=i(8179),J=i(4414);const Y=async()=>({totalRevenue:25e3,totalBookings:150,activeLots:5,occupancyRate:78}),_=async()=>[{id:"1",name:"Downtown Plaza Parking",address:"Main Street, Downtown",capacity:100,occupied:78,revenue:5e3,status:"active"},{id:"2",name:"Mall Parking Complex",address:"Shopping Mall, East Side",capacity:200,occupied:156,revenue:8e3,status:"active"},{id:"3",name:"Airport Parking Zone",address:"Airport Terminal 2",capacity:300,occupied:89,revenue:12e3,status:"maintenance"}],F=async()=>[{id:"B001",customerName:"John Doe",lotName:"Downtown Plaza",checkIn:"2024-08-07 09:00",checkOut:"2024-08-07 17:00",amount:120,status:"active"},{id:"B002",customerName:"Jane Smith",lotName:"Mall Parking",checkIn:"2024-08-06 14:00",checkOut:"2024-08-06 18:00",amount:80,status:"completed"}],Q=()=>{(0,t.wA)();const{user:e}=(0,t.d4)(e=>e.auth),[n,i]=(0,s.useState)(0),[Q,U]=(0,s.useState)(null),[Z,G]=(0,s.useState)([]),[K,X]=(0,s.useState)([]),[ee,ne]=(0,s.useState)(!0),[ie,se]=(0,s.useState)(!1),[te,re]=(0,s.useState)(null),[le,ce]=(0,s.useState)({open:!1,message:"",severity:"info"});(0,s.useEffect)(()=>{(async()=>{try{ne(!0);const[e,n,i]=await Promise.all([Y(),_(),F()]);U(e),G(n),X(i)}catch(e){console.error("Error loading dashboard data:",e),ce({open:!0,message:"Error loading dashboard data",severity:"error"})}finally{ne(!1)}})()},[]);const ae=()=>{re(null),se(!0)},de=e=>{let{title:n,value:i,icon:s,color:t="primary"}=e;return(0,J.jsx)(r.A,{sx:{height:"100%"},children:(0,J.jsx)(l.A,{children:(0,J.jsxs)(c.A,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,J.jsxs)(c.A,{children:[(0,J.jsx)(a.A,{color:"textSecondary",gutterBottom:!0,variant:"h6",children:n}),(0,J.jsx)(a.A,{variant:"h4",component:"div",color:`${t}.main`,children:i})]}),(0,J.jsx)(d.A,{sx:{bgcolor:`${t}.main`,width:56,height:56},children:s})]})})})},oe=e=>{let{children:n,value:i,index:s}=e;return(0,J.jsx)("div",{hidden:i!==s,style:{paddingTop:24},children:i===s&&n})};return ee?(0,J.jsx)(o.A,{maxWidth:"lg",sx:{py:4},children:(0,J.jsxs)(c.A,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"60vh",children:[(0,J.jsx)(x.A,{sx:{width:"100%",mb:2}}),(0,J.jsx)(a.A,{children:"Loading your dashboard..."})]})}):(0,J.jsxs)(o.A,{maxWidth:"lg",sx:{py:4},children:[(0,J.jsxs)(c.A,{mb:4,children:[(0,J.jsx)(a.A,{variant:"h3",component:"h1",gutterBottom:!0,children:"Landlord Dashboard"}),(0,J.jsxs)(a.A,{variant:"h6",color:"textSecondary",children:["Welcome back, ",null===e||void 0===e?void 0:e.name,"! Here's your parking business overview."]})]}),Q&&(0,J.jsxs)(h.Ay,{container:!0,spacing:3,sx:{mb:4},children:[(0,J.jsx)(h.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,J.jsx)(de,{title:"Total Revenue",value:`\u20b9${Q.totalRevenue.toLocaleString()}`,icon:(0,J.jsx)(z.A,{}),color:"success"})}),(0,J.jsx)(h.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,J.jsx)(de,{title:"Total Bookings",value:Q.totalBookings,icon:(0,J.jsx)(O.A,{}),color:"info"})}),(0,J.jsx)(h.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,J.jsx)(de,{title:"Active Lots",value:Q.activeLots,icon:(0,J.jsx)(H.A,{}),color:"primary"})}),(0,J.jsx)(h.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,J.jsx)(de,{title:"Occupancy Rate",value:`${Q.occupancyRate}%`,icon:(0,J.jsx)(V.A,{}),color:"warning"})})]}),(0,J.jsx)(A.A,{sx:{mb:3},children:(0,J.jsxs)(j.A,{value:n,onChange:(e,n)=>{i(n)},variant:"fullWidth",children:[(0,J.jsx)(u.A,{icon:(0,J.jsx)(E.A,{}),label:"Overview"}),(0,J.jsx)(u.A,{icon:(0,J.jsx)(H.A,{}),label:"Parking Lots"}),(0,J.jsx)(u.A,{icon:(0,J.jsx)(O.A,{}),label:"Bookings"}),(0,J.jsx)(u.A,{icon:(0,J.jsx)(D.A,{}),label:"Analytics"})]})}),(0,J.jsx)(oe,{value:n,index:0,children:(0,J.jsxs)(h.Ay,{container:!0,spacing:3,children:[(0,J.jsx)(h.Ay,{item:!0,xs:12,md:8,children:(0,J.jsx)(r.A,{children:(0,J.jsxs)(l.A,{children:[(0,J.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Recent Activity"}),(0,J.jsx)(a.A,{variant:"body2",color:"textSecondary",children:"Your parking lots performance overview for the last 30 days."}),(0,J.jsx)(c.A,{mt:3,p:3,bgcolor:"grey.50",borderRadius:2,children:(0,J.jsx)(a.A,{align:"center",color:"textSecondary",children:"\ud83d\udcca Analytics charts will be displayed here"})})]})})}),(0,J.jsx)(h.Ay,{item:!0,xs:12,md:4,children:(0,J.jsx)(r.A,{children:(0,J.jsxs)(l.A,{children:[(0,J.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Quick Actions"}),(0,J.jsxs)(c.A,{display:"flex",flexDirection:"column",gap:2,children:[(0,J.jsx)(m.A,{variant:"contained",startIcon:(0,J.jsx)(N.A,{}),onClick:ae,fullWidth:!0,children:"Add New Parking Lot"}),(0,J.jsx)(m.A,{variant:"outlined",startIcon:(0,J.jsx)(D.A,{}),fullWidth:!0,children:"View Full Analytics"}),(0,J.jsx)(m.A,{variant:"outlined",startIcon:(0,J.jsx)(M.A,{}),fullWidth:!0,children:"Account Settings"})]})]})})})]})}),(0,J.jsxs)(oe,{value:n,index:1,children:[(0,J.jsxs)(c.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[(0,J.jsx)(a.A,{variant:"h5",children:"Your Parking Lots"}),(0,J.jsx)(m.A,{variant:"contained",startIcon:(0,J.jsx)(N.A,{}),onClick:ae,children:"Add New Lot"})]}),(0,J.jsx)(g.A,{component:A.A,children:(0,J.jsxs)(y.A,{children:[(0,J.jsx)(p.A,{children:(0,J.jsxs)(v.A,{children:[(0,J.jsx)(k.A,{children:"Name"}),(0,J.jsx)(k.A,{children:"Address"}),(0,J.jsx)(k.A,{align:"center",children:"Capacity"}),(0,J.jsx)(k.A,{align:"center",children:"Occupied"}),(0,J.jsx)(k.A,{align:"center",children:"Revenue"}),(0,J.jsx)(k.A,{align:"center",children:"Status"}),(0,J.jsx)(k.A,{align:"center",children:"Actions"})]})}),(0,J.jsx)(f.A,{children:Z.map(e=>(0,J.jsxs)(v.A,{children:[(0,J.jsx)(k.A,{children:e.name}),(0,J.jsx)(k.A,{children:e.address}),(0,J.jsx)(k.A,{align:"center",children:e.capacity}),(0,J.jsx)(k.A,{align:"center",children:e.occupied}),(0,J.jsxs)(k.A,{align:"center",children:["\u20b9",e.revenue.toLocaleString()]}),(0,J.jsx)(k.A,{align:"center",children:(0,J.jsx)(b.A,{label:e.status,color:"active"===e.status?"success":"warning",variant:"outlined"})}),(0,J.jsxs)(k.A,{align:"center",children:[(0,J.jsx)(w.A,{onClick:()=>(e=>{re(e),se(!0)})(e),size:"small",children:(0,J.jsx)(q.A,{})}),(0,J.jsx)(w.A,{size:"small",children:(0,J.jsx)($.A,{})}),(0,J.jsx)(w.A,{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this parking lot?"))try{G(Z.filter(n=>n.id!==e)),ce({open:!0,message:"Parking lot deleted successfully",severity:"success"})}catch(n){ce({open:!0,message:"Error deleting parking lot",severity:"error"})}})(e.id),size:"small",color:"error",children:(0,J.jsx)(T.A,{})})]})]},e.id))})]})})]}),(0,J.jsxs)(oe,{value:n,index:2,children:[(0,J.jsx)(a.A,{variant:"h5",gutterBottom:!0,children:"Recent Bookings"}),(0,J.jsx)(g.A,{component:A.A,children:(0,J.jsxs)(y.A,{children:[(0,J.jsx)(p.A,{children:(0,J.jsxs)(v.A,{children:[(0,J.jsx)(k.A,{children:"Booking ID"}),(0,J.jsx)(k.A,{children:"Customer"}),(0,J.jsx)(k.A,{children:"Parking Lot"}),(0,J.jsx)(k.A,{children:"Check In"}),(0,J.jsx)(k.A,{children:"Check Out"}),(0,J.jsx)(k.A,{align:"center",children:"Amount"}),(0,J.jsx)(k.A,{align:"center",children:"Status"})]})}),(0,J.jsx)(f.A,{children:K.map(e=>(0,J.jsxs)(v.A,{children:[(0,J.jsx)(k.A,{children:e.id}),(0,J.jsx)(k.A,{children:e.customerName}),(0,J.jsx)(k.A,{children:e.lotName}),(0,J.jsx)(k.A,{children:e.checkIn}),(0,J.jsx)(k.A,{children:e.checkOut}),(0,J.jsxs)(k.A,{align:"center",children:["\u20b9",e.amount]}),(0,J.jsx)(k.A,{align:"center",children:(0,J.jsx)(b.A,{label:e.status,color:"completed"===e.status?"success":"info",variant:"outlined"})})]},e.id))})]})})]}),(0,J.jsxs)(oe,{value:n,index:3,children:[(0,J.jsx)(a.A,{variant:"h5",gutterBottom:!0,children:"Analytics & Reports"}),(0,J.jsx)(h.Ay,{container:!0,spacing:3,children:(0,J.jsx)(h.Ay,{item:!0,xs:12,children:(0,J.jsx)(r.A,{children:(0,J.jsxs)(l.A,{children:[(0,J.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Revenue Analytics"}),(0,J.jsxs)(c.A,{mt:3,p:4,bgcolor:"grey.50",borderRadius:2,textAlign:"center",children:[(0,J.jsx)(a.A,{color:"textSecondary",children:"\ud83d\udcc8 Detailed analytics charts and reports will be displayed here"}),(0,J.jsx)(a.A,{variant:"body2",color:"textSecondary",mt:1,children:"Including revenue trends, occupancy rates, peak hours, and more"})]})]})})})})]}),(0,J.jsx)(S.A,{color:"primary","aria-label":"add",sx:{position:"fixed",bottom:24,right:24},onClick:ae,children:(0,J.jsx)(N.A,{})}),(0,J.jsxs)(C.A,{open:ie,onClose:()=>se(!1),maxWidth:"md",fullWidth:!0,children:[(0,J.jsx)(L.A,{children:te?"Edit Parking Lot":"Add New Parking Lot"}),(0,J.jsx)(P.A,{children:(0,J.jsx)(c.A,{component:"form",sx:{mt:2},children:(0,J.jsxs)(h.Ay,{container:!0,spacing:2,children:[(0,J.jsx)(h.Ay,{item:!0,xs:12,children:(0,J.jsx)(B.A,{fullWidth:!0,label:"Parking Lot Name",defaultValue:null===te||void 0===te?void 0:te.name,required:!0})}),(0,J.jsx)(h.Ay,{item:!0,xs:12,children:(0,J.jsx)(B.A,{fullWidth:!0,label:"Address",defaultValue:null===te||void 0===te?void 0:te.address,multiline:!0,rows:3,required:!0})}),(0,J.jsx)(h.Ay,{item:!0,xs:6,children:(0,J.jsx)(B.A,{fullWidth:!0,label:"Total Capacity",type:"number",defaultValue:null===te||void 0===te?void 0:te.capacity,required:!0})}),(0,J.jsx)(h.Ay,{item:!0,xs:6,children:(0,J.jsx)(B.A,{fullWidth:!0,label:"Hourly Rate (\u20b9)",type:"number",required:!0})})]})})}),(0,J.jsxs)(R.A,{children:[(0,J.jsx)(m.A,{onClick:()=>se(!1),children:"Cancel"}),(0,J.jsxs)(m.A,{variant:"contained",children:[te?"Update":"Add"," Parking Lot"]})]})]}),(0,J.jsx)(I.A,{open:le.open,autoHideDuration:6e3,onClose:()=>ce({...le,open:!1}),children:(0,J.jsx)(W.A,{severity:le.severity,onClose:()=>ce({...le,open:!1}),children:le.message})})]})}}}]);