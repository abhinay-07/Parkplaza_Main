"use strict";(self.webpackChunkparkplaza_frontend=self.webpackChunkparkplaza_frontend||[]).push([[409],{7409:(e,a,r)=>{r.r(a),r.d(a,{default:()=>d});var s=r(9950),l=r(2569),n=r(8429),t=r(6475),i=r(8459),c=r(732),o=r(4414);const d=()=>{var e;const[a,r]=(0,s.useState)(!0),[d,m]=(0,s.useState)({name:"",email:"",password:"",phone:"",role:"user"}),p=(0,l.wA)(),h=(0,n.Zp)(),u=(0,n.zy)(),{loading:x,error:j}=(0,l.d4)(e=>e.auth),y=null===(e=u.state)||void 0===e?void 0:e.from,b=new URLSearchParams(u.search).get("from"),g=(()=>{try{return sessionStorage.getItem("postLoginRedirect")}catch{return null}})(),v=(()=>{if("string"===typeof y)return y;if(y&&"object"===typeof y&&y.pathname){const e=y.search||"",a=y.hash||"";return`${y.pathname}${e}${a}`}return b||g||"/"})(),N=e=>{m({...d,[e.target.name]:e.target.value})};return(0,o.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-purple-600 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,o.jsx)(t.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full space-y-8",children:(0,o.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl p-8",children:[(0,o.jsxs)("div",{className:"text-center mb-8",children:[(0,o.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:a?"Welcome Back":"Join ParkPlaza"}),(0,o.jsx)("p",{className:"mt-2 text-gray-600",children:a?"Sign in to your account":"Create your account"})]}),j&&(0,o.jsx)("div",{className:"bg-error-50 border border-error-200 rounded-lg p-3 mb-4",children:(0,o.jsx)("p",{className:"text-error-800 text-sm",children:j})}),(0,o.jsxs)("form",{className:"space-y-6",onSubmit:async e=>{e.preventDefault();try{a?await p((0,i.iD)({email:d.email,password:d.password})).unwrap():await p((0,i.kz)(d)).unwrap();try{sessionStorage.removeItem("postLoginRedirect")}catch{}h(v,{replace:!0})}catch(j){console.error("Auth error:",j)}},children:[!a&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"label",children:"Full Name"}),(0,o.jsx)("input",{name:"name",type:"text",required:!0,className:"input",placeholder:"John Doe",value:d.name,onChange:N})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"label",children:"Phone Number"}),(0,o.jsx)("input",{name:"phone",type:"tel",required:!0,className:"input",placeholder:"+91 9876543210",value:d.phone,onChange:N})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"label",children:"Account Type"}),(0,o.jsxs)("select",{name:"role",className:"input",value:d.role,onChange:N,children:[(0,o.jsx)("option",{value:"user",children:"User"}),(0,o.jsx)("option",{value:"landowner",children:"Landowner"})]})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"label",children:"Email Address"}),(0,o.jsx)("input",{name:"email",type:"email",required:!0,className:"input",placeholder:"john@example.com",value:d.email,onChange:N})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"label",children:"Password"}),(0,o.jsx)("input",{name:"password",type:"password",required:!0,className:"input",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:d.password,onChange:N})]}),(0,o.jsx)("button",{type:"submit",disabled:x,className:"btn btn-primary w-full py-3 text-lg",children:x?(0,o.jsx)(c.A,{size:"sm",color:"white"}):a?"Sign In":"Create Account"})]}),(0,o.jsx)("div",{className:"mt-6 text-center",children:(0,o.jsxs)("p",{className:"text-gray-600",children:[a?"Don't have an account?":"Already have an account?",(0,o.jsx)("button",{onClick:()=>r(!a),className:"ml-2 text-primary-600 hover:text-primary-700 font-medium",children:a?"Sign up":"Sign in"})]})})]})})})}}}]);