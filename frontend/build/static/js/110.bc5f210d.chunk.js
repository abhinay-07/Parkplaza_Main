"use strict";(self.webpackChunkparkplaza_frontend=self.webpackChunkparkplaza_frontend||[]).push([[110],{2337:(e,t,a)=>{a.r(t),a.d(t,{default:()=>j});var l=a(9950),i=a(8429),s=a(2074),r=a(2569),n=a(9810),o=a(9029),d=a(6800),c=a(8513),x=a(7113),m=(a(5392),a(2527)),h=a.n(m),g=a(4414);const p=e=>{var t,a;let{lot:l,onViewDetails:i,onBookNow:s,userLocation:r}=e;const n=r?((e,t,a,l)=>{const i=(a-e)*Math.PI/180,s=(l-t)*Math.PI/180,r=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e*Math.PI/180)*Math.cos(a*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return 6371*(2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)))})(r.lat,r.lng,l.lat,l.lng):null,o=l.availableSlots/l.totalSlots,d=o>.5?"text-green-600":o>.2?"text-yellow-600":"text-red-600",c=o>.5?"bg-green-100":o>.2?"bg-yellow-100":"bg-red-100";return(0,g.jsxs)("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 overflow-hidden",children:[(0,g.jsxs)("div",{className:"h-48 bg-gray-200 relative",children:[(0,g.jsx)("img",{src:l.image||"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=500",alt:l.name,className:"w-full h-full object-cover"}),(0,g.jsxs)("div",{className:`absolute top-3 right-3 ${c} ${d} px-2 py-1 rounded-full text-xs font-medium`,children:[l.availableSlots," / ",l.totalSlots," slots"]}),n&&(0,g.jsx)("div",{className:"absolute top-3 left-3 bg-black bg-opacity-70 text-white px-2 py-1 rounded-full text-xs font-medium",children:n<1?`${Math.round(1e3*n)}m away`:`${n.toFixed(1)}km away`})]}),(0,g.jsxs)("div",{className:"p-4",children:[(0,g.jsxs)("div",{className:"mb-3",children:[(0,g.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1 line-clamp-1",children:l.name}),(0,g.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:l.address})]}),(0,g.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,g.jsxs)("div",{className:"flex items-center",children:[(0,g.jsx)("div",{className:"flex items-center text-yellow-400 mr-1",children:(0,g.jsx)("svg",{className:"w-4 h-4 fill-current",viewBox:"0 0 20 20",children:(0,g.jsx)("path",{d:"M10 15l-5.878 3.09 1.123-6.545L0 6.91l6.564-.954L10 0l3.436 5.956L20 6.91l-5.245 4.635L15.878 18z"})})}),(0,g.jsx)("span",{className:"text-sm font-medium text-gray-900",children:l.rating})]}),(0,g.jsx)("div",{className:"text-xs text-gray-500",children:l.operatingHours})]}),(0,g.jsx)("div",{className:"flex justify-between items-center mb-3",children:(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsxs)("div",{className:"flex items-baseline",children:[(0,g.jsxs)("span",{className:"text-lg font-bold text-gray-900",children:["\u20b9",l.pricePerHour.day]}),(0,g.jsx)("span",{className:"text-sm text-gray-500 ml-1",children:"/hr day"})]}),(0,g.jsxs)("div",{className:"text-sm text-gray-600",children:["\u20b9",l.pricePerHour.night,"/hr night"]})]})}),(0,g.jsx)("div",{className:"mb-4",children:(0,g.jsxs)("div",{className:"flex flex-wrap gap-1",children:[null===(t=l.features)||void 0===t?void 0:t.slice(0,3).map((e,t)=>(0,g.jsx)("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:e},t)),(null===(a=l.features)||void 0===a?void 0:a.length)>3&&(0,g.jsxs)("span",{className:"inline-block bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-full",children:["+",l.features.length-3," more"]})]})}),l.slotTypes&&(0,g.jsx)("div",{className:"mb-4",children:(0,g.jsx)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:l.slotTypes.map((e,t)=>(0,g.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 rounded px-2 py-1",children:[(0,g.jsxs)("div",{className:"flex items-center",children:["car"===e.type?(0,g.jsxs)("svg",{className:"w-3 h-3 mr-1 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:[(0,g.jsx)("path",{d:"M4 16a2 2 0 100-4 2 2 0 000 4zM16 16a2 2 0 100-4 2 2 0 000 4z"}),(0,g.jsx)("path",{fillRule:"evenodd",d:"M3 4a1 1 0 00-1 1v10a1 1 0 102 0V5a1 1 0 001-1h12a1 1 0 001 1v10a1 1 0 102 0V5a1 1 0 00-1-1H3z",clipRule:"evenodd"})]}):(0,g.jsx)("svg",{className:"w-3 h-3 mr-1 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,g.jsx)("path",{d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"})}),(0,g.jsx)("span",{className:"text-gray-600 capitalize",children:e.type})]}),(0,g.jsx)("span",{className:"font-medium "+(e.available>0?"text-green-600":"text-red-600"),children:e.available})]},t))})}),(0,g.jsxs)("div",{className:"flex gap-2",children:[(0,g.jsx)("button",{onClick:()=>i(l.id),className:"flex-1 bg-blue-50 text-blue-700 hover:bg-blue-100 py-2 px-4 rounded-lg font-medium text-sm transition-colors",children:"View Details"}),(0,g.jsx)("button",{onClick:()=>s(l.id),disabled:0===l.availableSlots,className:"flex-1 py-2 px-4 rounded-lg font-medium text-sm transition-colors "+(0===l.availableSlots?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"),children:0===l.availableSlots?"Full":"Book Now"})]})]})]})},u=e=>{let{filters:t,onFiltersChange:a,parkingLots:i=[]}=e;const[s,r]=(0,l.useState)(!1),n=[...new Set(i.flatMap(e=>e.features||[]))],o=(e,l)=>{const i=[...t.priceRange];i[l]=parseInt(e),a({...t,priceRange:i})},d=e=>{a({...t,rating:parseFloat(e)})},c=e=>{const l=t.features.includes(e)?t.features.filter(t=>t!==e):[...t.features,e];a({...t,features:l})},x=t.priceRange[0]>0||t.priceRange[1]<100||t.rating>0||t.features.length>0||t.availabilityOnly;return(0,g.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,g.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Filters"}),(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[x&&(0,g.jsx)("button",{onClick:()=>{a({priceRange:[0,100],rating:0,features:[],availabilityOnly:!1})},className:"text-sm text-red-600 hover:text-red-700 font-medium",children:"Clear All"}),(0,g.jsx)("button",{onClick:()=>r(!s),className:"text-sm text-blue-600 hover:text-blue-700 font-medium lg:hidden",children:s?"Hide Filters":"Show Filters"})]})]}),(0,g.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,g.jsx)("button",{onClick:()=>{a({...t,availabilityOnly:!t.availabilityOnly})},className:"px-3 py-1 rounded-full text-sm font-medium transition-colors "+(t.availabilityOnly?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Available Only"}),(0,g.jsx)("button",{onClick:()=>d(t.rating>=4?0:4),className:"px-3 py-1 rounded-full text-sm font-medium transition-colors "+(t.rating>=4?"bg-yellow-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"4+ Stars"}),n.slice(0,3).map(e=>(0,g.jsx)("button",{onClick:()=>c(e),className:"px-3 py-1 rounded-full text-sm font-medium transition-colors "+(t.features.includes(e)?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e},e))]}),(0,g.jsxs)("div",{className:`space-y-6 ${s||window.innerWidth>=1024?"block":"hidden"} lg:block`,children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Price Range (\u20b9/hour)"}),(0,g.jsxs)("div",{className:"px-3",children:[(0,g.jsxs)("div",{className:"relative",children:[(0,g.jsx)("input",{type:"range",min:"0",max:"100",value:t.priceRange[0],onChange:e=>o(e.target.value,0),className:"absolute w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"}),(0,g.jsx)("input",{type:"range",min:"0",max:"100",value:t.priceRange[1],onChange:e=>o(e.target.value,1),className:"absolute w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"})]}),(0,g.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mt-6",children:[(0,g.jsxs)("span",{children:["\u20b9",t.priceRange[0]]}),(0,g.jsxs)("span",{children:["\u20b9",t.priceRange[1]]})]})]})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Minimum Rating"}),(0,g.jsx)("div",{className:"flex gap-2",children:[0,1,2,3,4,5].map(e=>(0,g.jsx)("button",{onClick:()=>d(e),className:"flex items-center justify-center w-10 h-10 rounded-lg font-medium text-sm transition-colors "+(t.rating===e?"bg-yellow-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:0===e?"Any":`${e}+`},e))})]}),n.length>0&&(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Features"}),(0,g.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:n.map(e=>(0,g.jsxs)("label",{className:"flex items-center",children:[(0,g.jsx)("input",{type:"checkbox",checked:t.features.includes(e),onChange:()=>c(e),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,g.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:e})]},e))})]})]}),x&&(0,g.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,g.jsxs)("p",{className:"text-sm text-gray-600",children:[i.length," parking lots match your criteria"]})})]})};var b=a(732),y=a(3223),v=a(6680),f=a(6475);const j=()=>{const e=(0,i.Zp)(),{isAuthenticated:t}=((0,i.zy)(),(0,r.d4)(e=>e.auth)),[a]=(0,s.ok)(),[m,j]=(0,l.useState)(null),[w,N]=(0,l.useState)(""),[k,P]=(0,l.useState)({priceRange:[0,100],rating:0,features:[],availabilityOnly:!0}),[C,S]=(0,l.useState)("map");try{delete h().Icon.Default.prototype._getIconUrl,h().Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"})}catch(D){}const{location:M,loading:R,error:H}=(0,y.m)(),{parkingLots:L,loading:z,error:F,refetch:I}=(0,v.Ex)(M),T=l.useMemo(()=>{const e=null!==M&&void 0!==M&&M.lat&&null!==M&&void 0!==M&&M.lng?{lat:M.lat,lng:M.lng}:{lat:28.6139,lng:77.209};return[{id:"demo-central-mall",name:"Demo Central Mall Parking",address:"Connaught Place, New Delhi",lat:e.lat+.01,lng:e.lng+.01,availableSlots:35,totalSlots:120,pricePerHour:{day:40,night:40},rating:4.3,features:["covered","security","cctv"]},{id:"demo-riverfront",name:"Demo Riverfront Parking",address:"Near Riverwalk, City Center",lat:e.lat-.008,lng:e.lng-.006,availableSlots:12,totalSlots:60,pricePerHour:{day:30,night:30},rating:4,features:["open-air","lighting"]}]},[M]);(0,l.useEffect)(()=>{const e=a.get("search");e&&N(e)},[a]);const V=l.useMemo(()=>{const e=new Set((L||[]).map(e=>String(e.id))),t=T.filter(t=>!e.has(String(t.id)));return[...L,...t]},[L,T]).filter(e=>{if(w&&!e.name.toLowerCase().includes(w.toLowerCase())&&!e.address.toLowerCase().includes(w.toLowerCase()))return!1;const t=Math.max(e.pricePerHour.day,e.pricePerHour.night);if(t<k.priceRange[0]||t>k.priceRange[1])return!1;if(e.rating<k.rating)return!1;if(k.availabilityOnly&&0===e.availableSlots)return!1;if(k.features.length>0){if(!k.features.every(t=>e.features.includes(t)))return!1}return!0}),A=t=>{e(`/parking/${t}`)},O=t=>{N(t);const l=new URLSearchParams(a);t?l.set("search",t):l.delete("search"),e(`?${l.toString()}`,{replace:!0})},B=()=>{I()};return R?(0,g.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,g.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,g.jsx)(b.A,{message:"Getting your location..."})})}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 overflow-hidden",children:[(0,g.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,g.jsx)(f.P.div,{animate:{x:[0,100,0],y:[0,-20,0]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-20 left-10 opacity-20",children:(0,g.jsx)("div",{className:"text-6xl",children:"\ud83d\ude97"})}),(0,g.jsx)(f.P.div,{animate:{x:[0,-150,0],y:[0,30,0]},transition:{duration:25,repeat:1/0,ease:"linear",delay:5},className:"absolute top-40 right-20 opacity-20",children:(0,g.jsx)("div",{className:"text-5xl",children:"\ud83d\ude99"})}),(0,g.jsx)(f.P.div,{animate:{x:[0,80,0],y:[0,-40,0]},transition:{duration:30,repeat:1/0,ease:"linear",delay:10},className:"absolute bottom-32 left-32 opacity-20",children:(0,g.jsx)("div",{className:"text-4xl",children:"\ud83d\ude95"})}),(0,g.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-black/30 to-transparent",children:(0,g.jsxs)("div",{className:"flex justify-around items-end h-full",children:[(0,g.jsx)(f.P.div,{initial:{height:0},animate:{height:"80px"},transition:{duration:2,delay:.5},className:"w-16 bg-gradient-to-t from-blue-600/30 to-blue-400/30 rounded-t-lg"}),(0,g.jsx)(f.P.div,{initial:{height:0},animate:{height:"100px"},transition:{duration:2,delay:1},className:"w-16 bg-gradient-to-t from-purple-600/30 to-purple-400/30 rounded-t-lg"}),(0,g.jsx)(f.P.div,{initial:{height:0},animate:{height:"120px"},transition:{duration:2,delay:1.5},className:"w-16 bg-gradient-to-t from-indigo-600/30 to-indigo-400/30 rounded-t-lg"}),(0,g.jsx)(f.P.div,{initial:{height:0},animate:{height:"90px"},transition:{duration:2,delay:2},className:"w-16 bg-gradient-to-t from-blue-600/30 to-blue-400/30 rounded-t-lg"})]})}),(0,g.jsx)(f.P.div,{animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:4,repeat:1/0},className:"absolute top-20 right-32 w-64 h-64 bg-gradient-to-r from-blue-400/20 to-purple-600/20 rounded-full blur-3xl"}),(0,g.jsx)(f.P.div,{animate:{scale:[1,1.3,1],opacity:[.2,.5,.2]},transition:{duration:6,repeat:1/0,delay:2},className:"absolute bottom-32 left-20 w-80 h-80 bg-gradient-to-r from-indigo-400/20 to-blue-600/20 rounded-full blur-3xl"})]}),(0,g.jsxs)("div",{className:"relative z-10",children:[(0,g.jsx)("div",{className:"pt-20",children:(0,g.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsxs)(f.P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1},className:"mb-8",children:[(0,g.jsxs)("h1",{className:"text-5xl md:text-7xl font-extrabold text-white mb-6",children:[(0,g.jsx)(f.P.span,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.8},className:"bg-gradient-to-r from-blue-400 via-purple-400 to-blue-600 bg-clip-text text-transparent",children:"ParkPlaza"}),(0,g.jsx)("br",{}),(0,g.jsxs)(f.P.span,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.8},className:"text-lg md:text-2xl font-medium relative inline-block",children:[(0,g.jsx)("span",{className:"bg-gradient-to-r from-blue-400 via-purple-400 to-blue-500 bg-clip-text text-transparent font-semibold tracking-wide",children:"A Smart Parking Revolution"}),(0,g.jsx)(f.P.div,{initial:{scaleX:0},animate:{scaleX:1},transition:{delay:1.8,duration:1.2,ease:"easeInOut"},className:"absolute bottom-0 left-0 h-0.5 w-full bg-gradient-to-r from-blue-400 to-purple-500 origin-left"})]})]}),(0,g.jsx)(f.P.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.5,duration:.8},className:"text-xl md:text-2xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"Discover, book, and manage parking spaces with cutting-edge technology. Say goodbye to parking stress forever."})]}),(0,g.jsx)(f.P.div,{initial:{opacity:0,y:50,rotateX:15},animate:{opacity:1,y:0,rotateX:0},transition:{delay:2,duration:1},className:"max-w-4xl mx-auto mb-12",children:(0,g.jsx)("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 shadow-2xl p-8",children:(0,g.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,g.jsx)("div",{className:"md:col-span-2",children:(0,g.jsxs)(f.P.div,{whileHover:{scale:1.02},whileFocus:{scale:1.02},className:"relative",children:[(0,g.jsx)("input",{type:"text",placeholder:"\ud83d\udd0d Search parking by location, mall, or landmark...",value:w,onChange:e=>O(e.target.value),className:"w-full px-6 py-4 bg-white/90 rounded-2xl border-0 text-gray-800 placeholder-gray-500 text-lg focus:ring-4 focus:ring-blue-400/50 focus:outline-none shadow-lg"}),(0,g.jsx)(f.P.div,{className:"absolute right-3 top-1/2 transform -translate-y-1/2",animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:(0,g.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:(0,g.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})})]})}),(0,g.jsx)(f.P.button,{onClick:()=>O(w),whileHover:{scale:1.05,boxShadow:"0 20px 40px rgba(59, 130, 246, 0.4)"},whileTap:{scale:.95},className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold py-4 px-8 rounded-2xl shadow-lg text-lg transition-all duration-300",children:"Find Parking"})]})})}),(0,g.jsx)(f.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:3,duration:1},className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto mb-16",children:[{icon:"\ud83c\udfaf",title:"Real-Time Availability",description:"Live updates on parking spot availability",color:"from-blue-500 to-cyan-500"},{icon:"\u26a1",title:"Instant Booking",description:"Reserve your spot in seconds",color:"from-purple-500 to-pink-500"},{icon:"\ud83d\udd12",title:"Secure Payments",description:"Safe and encrypted transactions",color:"from-green-500 to-emerald-500"}].map((e,t)=>(0,g.jsxs)(f.P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:3.5+.2*t,duration:.8},whileHover:{y:-10,rotateY:5,scale:1.05},className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20 hover:border-white/40 transition-all duration-300",children:[(0,g.jsx)("div",{className:"text-4xl mb-4",children:e.icon}),(0,g.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:e.title}),(0,g.jsx)("p",{className:"text-gray-300",children:e.description}),(0,g.jsx)("div",{className:`w-full h-1 bg-gradient-to-r ${e.color} rounded-full mt-4 opacity-80`})]},t))}),(0,g.jsxs)(f.P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:4,duration:.8},className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[(0,g.jsx)(f.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e("/auth"),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold py-3 px-8 rounded-full shadow-lg text-lg transition-all duration-300",children:"Get Started Free"}),(0,g.jsx)(f.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-white/10 backdrop-blur-lg border border-white/30 text-white font-bold py-3 px-8 rounded-full hover:bg-white/20 transition-all duration-300",children:"Watch Demo"})]})]})})}),(0,g.jsx)(f.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:4.5,duration:1},className:"mt-20 py-12 bg-white/5 backdrop-blur-lg border-t border-white/10",children:(0,g.jsx)("div",{className:"max-w-6xl mx-auto px-4",children:(0,g.jsx)("div",{className:"grid md:grid-cols-4 gap-8 text-center",children:[{number:"Growing Every Minute",label:"Happy Users"},{number:"Expanding City by City",label:"Parking Spots"},{number:"Targeting Global Reach",label:"Cities"},{number:"Always Ready, Always Reliable",label:"Uptime"}].map((e,t)=>(0,g.jsxs)(f.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:5+.1*t,duration:.6},className:"text-white",children:[(0,g.jsx)("div",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:e.number}),(0,g.jsx)("div",{className:"text-gray-300 mt-2",children:e.label})]},t))})})})]}),H&&(0,g.jsx)(f.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"fixed bottom-4 right-4 bg-yellow-500/90 backdrop-blur-lg text-white px-4 py-2 rounded-lg shadow-lg z-50",children:(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[(0,g.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,g.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,g.jsx)("span",{className:"text-sm",children:"Using default location"})]})}),(0,g.jsx)(f.P.div,{animate:{y:[0,10,0]},transition:{duration:2,repeat:1/0},className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 text-white/60",children:(0,g.jsxs)("div",{className:"flex flex-col items-center",children:[(0,g.jsx)("span",{className:"text-sm mb-2",children:"Scroll for parking options"}),(0,g.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})]})}),(0,g.jsx)(f.P.div,{initial:{scale:0},animate:{scale:1},transition:{delay:5,type:"spring",stiffness:260,damping:20},className:"fixed bottom-6 right-6 z-50",children:(0,g.jsx)(f.P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{var e;return null===(e=document.getElementById("search-section"))||void 0===e?void 0:e.scrollIntoView({behavior:"smooth"})},className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 rounded-full shadow-2xl",children:(0,g.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})})]}),(0,g.jsx)("div",{id:"search-section",className:"min-h-screen bg-gray-50 py-12",children:(0,g.jsxs)("div",{className:"max-w-7xl mx-auto px-4",children:[(0,g.jsxs)(f.P.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-12",children:[(0,g.jsxs)("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:["Find Your Perfect",(0,g.jsx)("span",{className:"gradient-text",children:" Parking Spot"})]}),(0,g.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Discover available parking spaces near you with real-time updates and instant booking"})]}),(0,g.jsx)(f.P.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.2},viewport:{once:!0},className:"mb-8",children:(0,g.jsx)(u,{filters:k,onFiltersChange:e=>{P(e)},parkingLots:V})}),(0,g.jsx)(f.P.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6,delay:.4},viewport:{once:!0},className:"flex justify-center mb-8",children:(0,g.jsx)("div",{className:"bg-white rounded-2xl p-2 shadow-lg",children:(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[(0,g.jsx)(f.P.button,{onClick:()=>S("map"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-3 rounded-xl font-medium transition-all "+("map"===C?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"\ud83d\uddfa\ufe0f Map View"}),(0,g.jsx)(f.P.button,{onClick:()=>S("list"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-3 rounded-xl font-medium transition-all "+("list"===C?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"\ud83d\udccb List View"})]})})}),z&&(0,g.jsx)(f.P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-center items-center py-20",children:(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsx)(f.P.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"text-6xl mb-4",children:"\ud83d\ude97"}),(0,g.jsx)("p",{className:"text-xl text-gray-600",children:"Finding amazing parking spots..."})]})}),F&&(0,g.jsxs)(f.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-red-50 border border-red-200 rounded-2xl p-8 text-center",children:[(0,g.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\ude14"}),(0,g.jsx)("h3",{className:"text-xl font-semibold text-red-800 mb-2",children:"Oops! Something went wrong"}),(0,g.jsx)("p",{className:"text-red-600 mb-4",children:F}),(0,g.jsx)(f.P.button,{onClick:B,whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-red-600 text-white px-6 py-3 rounded-xl font-medium hover:bg-red-700 transition-colors",children:"Try Again"})]}),!z&&!F&&(0,g.jsx)(f.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:0===V.length?(0,g.jsxs)(f.P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-lg p-12 text-center",children:[(0,g.jsx)("div",{className:"text-6xl mb-6",children:"\ud83d\udeab"}),(0,g.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No parking spots found"}),(0,g.jsx)("p",{className:"text-gray-600 mb-8",children:"Try adjusting your search criteria or explore different areas"}),(0,g.jsx)(f.P.button,{onClick:()=>{N(""),P({priceRange:[0,100],rating:0,features:[],availabilityOnly:!1})},whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-2xl font-bold text-lg shadow-lg hover:shadow-xl transition-all",children:"Reset Filters"})]}):(0,g.jsxs)("div",{className:"space-y-8",children:[(0,g.jsxs)(f.P.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{children:[(0,g.jsxs)("h3",{className:"text-2xl font-bold text-gray-900",children:["Found ",V.length," parking spots"]}),(0,g.jsxs)("p",{className:"text-gray-600",children:[V.reduce((e,t)=>e+t.availableSlots,0)," spaces available now"]})]}),(0,g.jsxs)(f.P.button,{onClick:B,disabled:z,whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-white border border-gray-200 px-6 py-3 rounded-xl font-medium text-gray-700 hover:border-gray-300 transition-all disabled:opacity-50",children:[z?"\ud83d\udd04":"\u21bb"," Refresh"]})]}),"map"===C?(0,g.jsx)(f.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.2},className:"bg-white rounded-3xl shadow-lg overflow-hidden",children:(0,g.jsxs)("div",{className:"flex flex-col lg:flex-row h-[600px]",children:[(0,g.jsx)("div",{className:"flex-1 lg:w-2/3 h-64 lg:h-full",children:(0,g.jsxs)(n.W,{center:[(null===M||void 0===M?void 0:M.lat)||28.6139,(null===M||void 0===M?void 0:M.lng)||77.209],zoom:13,style:{height:"100%",width:"100%"},className:"rounded-t-3xl lg:rounded-l-3xl lg:rounded-tr-none",children:[(0,g.jsx)(o.e,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),M&&(0,g.jsx)(d.p,{center:[M.lat,M.lng],radius:8,fillColor:"#3b82f6",color:"#1e40af",weight:2,opacity:1,fillOpacity:.8,children:(0,g.jsx)(c.z,{children:(0,g.jsx)("div",{className:"text-center",children:(0,g.jsx)("strong",{children:"Your Location"})})})}),V.map(e=>(0,g.jsx)(x.p,{position:[e.lat,e.lng],children:(0,g.jsx)(c.z,{children:(0,g.jsxs)("div",{className:"p-2 min-w-[200px]",children:[(0,g.jsx)("h3",{className:"font-bold text-gray-800 mb-2",children:e.name}),(0,g.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.address}),(0,g.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,g.jsxs)("span",{className:"text-sm font-medium text-green-600",children:[e.availableSlots," spots available"]}),(0,g.jsxs)("span",{className:"text-sm font-bold text-blue-600",children:["\u20b9",e.pricePerHour.day,"/hr"]})]}),(0,g.jsx)("button",{onClick:()=>A(e.id),className:"w-full bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors",children:"View Details"})]})})},e.id))]})}),(0,g.jsxs)("div",{className:"lg:w-1/3 h-96 lg:h-full overflow-y-auto p-6 bg-gray-50 border-t lg:border-t-0 lg:border-l border-gray-200",children:[(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Available Parking Lots"}),(0,g.jsx)("p",{className:"text-sm text-gray-600",children:"Click on a marker or lot below to view details"})]}),(0,g.jsx)("div",{className:"space-y-4",children:V.map((e,t)=>(0,g.jsxs)(f.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.1*t},className:"bg-white rounded-xl p-4 shadow-md hover:shadow-lg transition-all cursor-pointer border border-gray-200",onClick:()=>A(e.id),whileHover:{scale:1.02},children:[(0,g.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,g.jsx)("h4",{className:"font-semibold text-gray-800 text-sm pr-2",children:e.name}),(0,g.jsxs)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full whitespace-nowrap",children:[e.availableSlots," spots"]})]}),(0,g.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:e.address}),(0,g.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,g.jsxs)("span",{className:"text-gray-600",children:["\ud83d\udccd ",e.distance,"km away"]}),(0,g.jsxs)("span",{className:"font-bold text-blue-600",children:["\u20b9",e.pricePerHour.day,"/hr"]})]}),(0,g.jsx)("div",{className:"flex items-center mt-2",children:(0,g.jsxs)("div",{className:"flex items-center",children:[[...Array(5)].map((t,a)=>(0,g.jsx)("span",{className:"text-xs "+(a<Math.floor(e.rating)?"text-yellow-400":"text-gray-300"),children:"\u2b50"},a)),(0,g.jsxs)("span",{className:"text-xs text-gray-600 ml-1",children:["(",e.rating,")"]})]})})]},e.id))}),(0,g.jsx)(f.P.button,{onClick:()=>S("list"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"mt-6 w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-3 rounded-xl font-medium shadow-lg hover:shadow-xl transition-all",children:"Switch to List View"})]})]})}):(0,g.jsx)(f.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.2},className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:V.map((a,l)=>(0,g.jsx)(f.P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1*l},whileHover:{y:-5},className:"interactive-card",children:(0,g.jsx)(p,{lot:a,onViewDetails:()=>A(a.id),onBookNow:()=>(a=>{const l=`/booking?lotId=${a}`;if(t)e(l);else{try{sessionStorage.setItem("postLoginRedirect",l)}catch{}e("/auth",{state:{from:l}})}})(a.id),userLocation:M})},a.id))})]})})]})})]})}},3223:(e,t,a)=>{a.d(t,{m:()=>i});var l=a(9950);const i=()=>{const[e,t]=(0,l.useState)(null),[a,i]=(0,l.useState)(!0),[s,r]=(0,l.useState)(null);(0,l.useEffect)(()=>{if(!navigator.geolocation)return r("Geolocation is not supported by this browser"),void i(!1);navigator.geolocation.getCurrentPosition(e=>{t({lat:e.coords.latitude,lng:e.coords.longitude}),i(!1)},e=>{console.error("Geolocation error:",e),r(e.message),i(!1),t({lat:28.6139,lng:77.209})},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},[]);return{location:e,loading:a,error:s,refreshLocation:()=>{i(!0),r(null),navigator.geolocation.getCurrentPosition(e=>{t({lat:e.coords.latitude,lng:e.coords.longitude}),i(!1)},e=>{r(e.message),i(!1)})}}}}}]);